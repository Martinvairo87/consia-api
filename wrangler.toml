name = "consia-api"
main = "worker.js"
compatibility_date = "2026-02-21"

# Si usas workers.dev y dominio custom juntos, lo manejás desde Cloudflare dashboard.
workers_dev = true

[vars]
ENVIRONMENT = "prod"
OPENAI_MODEL = "gpt-4.1-mini"

[durable_objects]
bindings = [
  { name = "MEETING_DO", class_name = "ConsiaState" }
]

[[migrations]]
# IMPORTANTE: tag nuevo y único (no repetir uno viejo)
tag = "v2026_02_21_consia_state_recreate"
new_sqlite_classes = ["ConsiaState"]
